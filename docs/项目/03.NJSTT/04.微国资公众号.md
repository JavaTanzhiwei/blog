---
title: 微国资公众号
date: 2023-04-13 14:28:10
permalink: /pages/0b0a15/
titleTag: 原创
sticky: 1
categories:
  - 项目
  - NJSTT
tags:
  - 项目
author: 
  name: JavaTanzhiwei
  link: https://gitee.com/JavaTanzhiwei
---
# 微国资公众号

## 项目背景
```sh
是为了PC端的固定资产项目，相应产生的移动端项目，可以对应PC端的部分操作，在手机端以及一些审批流程
实现同步操作。
```
<!-- more -->

## 工作职责
```sh
Ⅰ、研究并打通微信公众号一些常用接口。
Ⅱ、微信绑定：用户同意授权获取code--通过code换取网页授权access_token--定时任务一个半小时刷新token(一般两个
小时失效)--拉取用户信息，需scope(应用授权作用域)为snsapi_userinfo,通过access_token、openid获取用户信息。
Ⅲ、语音转换：通过access_token获取jsapi_ticket（是公众号调用微信js接口的临时票据）--用时间戳、随机数、
jsapi_ticket和要访问的url按照签名算法拼接字符串--对步骤三进行sha-1加密，得到签名。
Ⅳ、扫一扫：通过config接口注入权限验证配置（很重要）--通过ready接口处理成功验--通过error接口处理失败验证。
Ⅴ、消息推送：根据官方demo创建模板--微信会给该模板分配一个ID--根据数据格式封装结构体。errcode为0代表发送成
功。
```

## 主要成效
```sh
内部试运行搭建一款"微国资"公众号，成功对接PC后台。
```
